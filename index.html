<!DOCTYPE html>
<html lang="pl">
<head>
<meta charset="UTF-8">
<title>gato.tv – Premium Nick Painter</title>
<meta name="viewport" content="width=device-width, initial-scale=1.0">

<style>
*{box-sizing:border-box;font-family:Segoe UI,sans-serif}
body{margin:0;background:#0b0b0f;color:#fff}

/* ===== HEADER ===== */
header{
  height:64px;
  background:linear-gradient(90deg,#111,#1b1b26);
  display:flex;
  align-items:center;
  justify-content:space-between;
  padding:0 24px;
  box-shadow:0 4px 20px #000;
}

.logo{
  font-size:28px;
  font-weight:900;
  color:#ffe600;
  letter-spacing:2px;
  animation:logoGlow 2s infinite alternate;
}
@keyframes logoGlow{
  from{text-shadow:0 0 8px #ffe600}
  to{text-shadow:0 0 20px #ffcc00}
}

nav button{
  background:none;
  border:none;
  color:#fff;
  font-size:16px;
  padding:10px 18px;
  cursor:pointer;
  border-radius:10px;
}
nav button.active,
nav button:hover{
  background:#9147ff;
}

/* ===== MAIN ===== */
main{max-width:1100px;margin:30px auto;padding:20px}

/* ===== PREVIEW ===== */
#preview{
  margin:20px 0;
  padding:16px;
  background:#111;
  border-radius:14px;
  font-size:28px;
  min-height:70px;
  display:flex;
  align-items:center;
  justify-content:center;
}

/* ===== PAINT GRID ===== */
#paints{
  display:grid;
  grid-template-columns:repeat(auto-fill,minmax(140px,1fr));
  gap:14px;
}

.paint{
  height:54px;
  border-radius:14px;
  display:flex;
  align-items:center;
  justify-content:center;
  font-weight:700;
  cursor:pointer;
  user-select:none;
  transition:.25s;
}
.paint:hover{transform:translateY(-3px)}
.paint.active{outline:3px solid #fff}

/* ===== INPUT ===== */
input{
  width:100%;
  padding:14px;
  border-radius:12px;
  border:none;
  background:#1c1c26;
  color:#fff;
  font-size:16px;
}

/* ===== BUTTONS ===== */
.actions{margin-top:20px}
.actions button{
  padding:14px 26px;
  border:none;
  border-radius:14px;
  font-weight:700;
  cursor:pointer;
}
.apply{background:#9147ff;color:#fff}
.reset{background:#444;color:#fff;margin-left:12px}

/* ===== ANIMATIONS ===== */
@keyframes slide1{from{background-position:0%}to{background-position:200%}}
@keyframes slide2{from{background-position:200%}to{background-position:0%}}
@keyframes slide3{from{background-position:-100%}to{background-position:100%}}
</style>
</head>

<body>

<header>
  <div class="logo">GATO.TV</div>
  <nav>
    <button class="tab active" data-tab="paintsTab">Paints</button>
    <button class="tab" data-tab="infoTab">Info</button>
    <button class="tab" data-tab="emotesTab">Emotes</button>
  </nav>
</header>

<main>

<section id="paintsTab">
  <input id="nick" placeholder="Nick użytkownika">
  <div id="preview">Podgląd nicku</div>
  <div id="paints"></div>

  <div class="actions">
    <button class="apply">Nadaj paint</button>
    <button class="reset">Reset</button>
  </div>
</section>

<section id="infoTab" style="display:none">
  <h2>Wersja: v0.1</h2>
  <p>Opis wkrótce</p>
</section>

<section id="emotesTab" style="display:none">
  <h2>Emotes</h2>
  <p>Wkrótce</p>
</section>

</main>

<script>
/* ================= CONFIG ================= */
const FIREBASE =
"https://test-be375-default-rtdb.europe-west1.firebasedatabase.app/premium.json";

/* ================= PAINT DEFINITIONS ================= */
const PAINTS = [
  {type:"color", color:"#ff0000"},
  {type:"color", color:"#00ff00"},
  {type:"color", color:"#00ccff"},

  {type:"gradient", gradient:"Tęczowy"},
  {type:"gradient", gradient:"Lava"},
  {type:"gradient", gradient:"Ocean"},
  {type:"gradient", gradient:"Sunset"},

  {type:"color", color:"#ff0000", glow:true, glowColor:"#ff8800"}, // LAVA GLOW
  {type:"color", color:"#00ffff", glow:true, glowColor:"#00ffff"},

  {type:"split", color:"#ff0000", splitColor:"#ffffff"},
  {type:"split", color:"#00ccff", splitColor:"#ffff00"},

  // === ANIMOWANE ===
  {type:"animated", gradient:"Tęczowy", anim:"slide1"},
  {type:"animated", gradient:"Ocean", anim:"slide2"},
  {type:"animated", gradient:"Lava", anim:"slide3"}
];

/* ================= GRADIENT MAP ================= */
const GRADIENTS = {
  Tęczowy:"linear-gradient(90deg,red,orange,yellow,lime,cyan,blue,violet)",
  Lava:"linear-gradient(90deg,#ff0000,#ff8800,#aa0000)",
  Ocean:"linear-gradient(90deg,#1e90ff,#00ced1)",
  Sunset:"linear-gradient(90deg,#ff4500,#ffb347)"
};

let selected = PAINTS[0];

/* ================= UI ================= */
const paintsEl = document.getElementById("paints");
const preview = document.getElementById("preview");
const nickInput = document.getElementById("nick");

function renderPreview(){
  const nick = nickInput.value || "Podgląd";
  preview.innerHTML = nick;
  preview.style = "";

  if(selected.type==="color"){
    preview.style.color = selected.color;
    if(selected.glow)
      preview.style.textShadow = `0 0 6px ${selected.glowColor},0 0 14px ${selected.glowColor}`;
  }

  if(selected.type==="gradient"){
    preview.style.background = GRADIENTS[selected.gradient];
    preview.style.webkitBackgroundClip="text";
    preview.style.webkitTextFillColor="transparent";
  }

  if(selected.type==="split"){
    const m = Math.floor(nick.length/2);
    preview.innerHTML =
      `<span style="color:${selected.color}">${nick.slice(0,m)}</span>`+
      `<span style="color:${selected.splitColor}">${nick.slice(m)}</span>`;
  }

  if(selected.type==="animated"){
    preview.style.background = GRADIENTS[selected.gradient];
    preview.style.backgroundSize="200%";
    preview.style.animation = `${selected.anim} 4s linear infinite`;
    preview.style.webkitBackgroundClip="text";
    preview.style.webkitTextFillColor="transparent";
  }
}

PAINTS.forEach(p=>{
  const d = document.createElement("div");
  d.className="paint";
  d.textContent=p.type;
  d.style.background =
    p.color || GRADIENTS[p.gradient] || "#333";
  d.onclick=()=>{
    document.querySelectorAll(".paint").forEach(x=>x.classList.remove("active"));
    d.classList.add("active");
    selected=p;
    renderPreview();
  };
  paintsEl.appendChild(d);
});

nickInput.oninput = renderPreview;
renderPreview();

/* ================= FIREBASE ================= */
document.querySelector(".apply").onclick = async ()=>{
  const nick = nickInput.value.trim();
  if(!nick) return alert("Nick!");

  const payload = {};
  payload[nick] = { paint:selected, badges:[] };

  await fetch(FIREBASE,{
    method:"PATCH",
    body:JSON.stringify(payload)
  });
};

document.querySelector(".reset").onclick = async ()=>{
  const nick = nickInput.value.trim();
  if(!nick) return;

  const payload = {};
  payload[nick] = { paint:{type:"color",color:"#00ff00"}, badges:[] };

  await fetch(FIREBASE,{
    method:"PATCH",
    body:JSON.stringify(payload)
  });
};

/* ================= TABS ================= */
document.querySelectorAll(".tab").forEach(btn=>{
  btn.onclick=()=>{
    document.querySelectorAll(".tab").forEach(b=>b.classList.remove("active"));
    btn.classList.add("active");
    document.querySelectorAll("section").forEach(s=>s.style.display="none");
    document.getElementById(btn.dataset.tab).style.display="block";
  };
});
</script>

</body>
</html>
