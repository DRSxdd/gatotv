<!DOCTYPE html>
<html lang="pl">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Premium Nick Colors</title>
<style>
body{font-family:'Segoe UI',sans-serif;background:#1a1a1a;color:white;margin:0;padding:0;}
.container{max-width:800px;margin:50px auto;background:#2a2a2a;padding:20px;border-radius:16px;box-shadow:0 8px 32px rgba(0,0,0,0.6);}
h1{text-align:center;}
#preview{margin:20px 0;padding:10px;border-radius:8px;text-align:center;font-size:20px;background:#111;}
.paint-btn{padding:8px 12px;margin:5px;border:none;border-radius:6px;cursor:pointer;font-weight:bold;}
.paint-btn:hover{opacity:0.8;}
#user-list{margin-top:20px;}
.user-item{display:flex;justify-content:space-between;align-items:center;margin:5px 0;padding:5px 10px;background:#333;border-radius:6px;}
.user-item button{background:#ff4444;color:white;border:none;padding:4px 8px;border-radius:4px;cursor:pointer;}
.user-item button:hover{opacity:0.8;}
</style>
</head>
<body>
<div class="container">
<h1>Premium Nick Colors</h1>
<label>Nick:</label>
<input type="text" id="nick-input" placeholder="Wpisz nick..." style="width:100%;padding:8px;margin-top:4px;border-radius:6px;border:none;">
<div id="preview">Podgląd nicku</div>

<h3>Wybierz paint:</h3>
<div id="paints-container"></div>

<button id="apply-btn" style="margin-top:10px;padding:10px 20px;border-radius:8px;border:none;background:linear-gradient(135deg,#9147ff,#7722cc);color:white;font-weight:bold;cursor:pointer;">Nadaj paint</button>
<button id="reset-btn" style="margin-top:10px;padding:10px 20px;border-radius:8px;border:none;background:#555;color:white;font-weight:bold;cursor:pointer;">Resetuj nick</button>

<h3>Użytkownicy:</h3>
<div id="user-list"></div>
</div>

<script>
const FIREBASE_URL = "https://test-be375-default-rtdb.europe-west1.firebasedatabase.app/premium.json";

const paints = [
    {name:"Czerwony",type:"color",color:"#ff0000"},
    {name:"Zielony",type:"color",color:"#00ff00"},
    {name:"Niebieski",type:"color",color:"#00ccff"},
    {name:"Różowy",type:"color",color:"#ff77ff"},
    {name:"Żółty",type:"color",color:"#ffff00"},
    {name:"Tęczowy",type:"gradient",gradient:"Tęczowy"},
    {name:"Lava",type:"gradient",gradient:"Lava"},
    {name:"Split Red/White",type:"split",color:"#ff0000",splitColor:"#ffffff"},
    {name:"Split Blue/Yellow",type:"split",color:"#00ccff",splitColor:"#ffff00"},
    // dodaj kolejne aż 50...
];

const paintsContainer = document.getElementById("paints-container");
const preview = document.getElementById("preview");
const nickInput = document.getElementById("nick-input");
let selectedPaint = paints[0];

function updatePreview(){
    let nick = nickInput.value||"Podgląd";
    if(selectedPaint.type==="color"){
        preview.textContent = nick;
        preview.style.color = selectedPaint.color;
        preview.style.background = "";
        preview.style.textShadow="";
    } else if(selectedPaint.type==="gradient"){
        preview.textContent = nick;
        preview.style.backgroundImage = GRADIENTS[selectedPaint.gradient];
        preview.style.webkitBackgroundClip="text";
        preview.style.webkitTextFillColor="transparent";
        preview.style.textShadow="";
    } else if(selectedPaint.type==="split"){
        let mid = Math.floor(nick.length/2);
        preview.innerHTML = `<span style="color:${selectedPaint.color}">${nick.slice(0,mid)}</span><span style="color:${selectedPaint.splitColor}">${nick.slice(mid)}</span>`;
        preview.style.background="";
        preview.style.textShadow="";
    }
}

paints.forEach(p=>{
    const btn = document.createElement("button");
    btn.className="paint-btn";
    btn.textContent=p.name;
    btn.onclick = ()=>{
        selectedPaint = p;
        updatePreview();
    };
    paintsContainer.appendChild(btn);
});

nickInput.addEventListener("input",updatePreview);
updatePreview();

document.getElementById("apply-btn").onclick = async()=>{
    let nick = nickInput.value.trim();
    if(!nick) return alert("Wpisz nick");
    let payload = {nick:nick, paint:selectedPaint, badges:[]};
    await fetch(FIREBASE_URL,{method:"PUT",body:JSON.stringify(payload)});
};

document.getElementById("reset-btn").onclick = async()=>{
    let nick = nickInput.value.trim();
    if(!nick) return alert("Wpisz nick");
    let payload = {nick:nick, paint:{type:"color",color:"#00ff00",glow:false,glowColor:"#ffffff"}, badges:[]};
    await fetch(FIREBASE_URL,{method:"PUT",body:JSON.stringify(payload)});
    updatePreview();
};
</script>
</body>
</html>
