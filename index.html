<!DOCTYPE html>
<html lang="pl">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>gato.tv panel</title>

<style>
*{box-sizing:border-box}
body{
  margin:0;
  font-family:Inter,Segoe UI,sans-serif;
  background:linear-gradient(135deg,#0e0e13,#15151d);
  color:white;
}

/* TOP BAR */
header{
  height:64px;
  display:flex;
  align-items:center;
  justify-content:space-between;
  padding:0 24px;
  background:#0a0a10;
}
.logo{
  font-size:32px;
  font-weight:900;
  letter-spacing:2px;
  animation:logoGlow 3s infinite alternate;
}
@keyframes logoGlow{
  from{color:#ffcc00;text-shadow:0 0 10px #ffcc00}
  to{color:#ffe066;text-shadow:0 0 25px #ff9900}
}
nav button{
  background:none;border:none;color:#aaa;
  font-size:16px;font-weight:700;
  margin-left:20px;cursor:pointer;
}
nav button.active,nav button:hover{color:white}

.container{
  max-width:1000px;
  margin:40px auto;
  padding:24px;
}
.panel{
  display:none;
  background:#14141c;
  padding:24px;
  border-radius:16px;
}
.panel.active{display:block}

/* PAINTS */
.paint-grid{
  display:grid;
  grid-template-columns:repeat(auto-fill,minmax(160px,1fr));
  gap:16px;
  margin-top:20px;
}
.paint{
  padding:14px;
  border-radius:12px;
  cursor:pointer;
  text-align:center;
  background:#0f0f17;
  border:2px solid transparent;
}
.paint.active{border-color:#ffcc00}
.preview{
  font-size:22px;
  margin:16px 0;
  text-align:center;
}

/* EMOTES */
.form{
  display:grid;
  grid-template-columns:1fr 2fr auto;
  gap:12px;
}
input{
  padding:12px;
  border-radius:10px;
  border:none;
  background:#0e0e16;
  color:white;
}
button.primary{
  padding:12px 20px;
  border-radius:10px;
  border:none;
  font-weight:800;
  cursor:pointer;
  background:linear-gradient(135deg,#ffcc00,#ff9900);
  color:black;
}
.emote-list{
  display:grid;
  grid-template-columns:repeat(auto-fill,minmax(160px,1fr));
  gap:16px;margin-top:20px;
}
.emote{
  background:#0e0e16;
  border-radius:12px;
  padding:12px;
  text-align:center;
  position:relative;
}
.emote img{width:48px;height:48px}
.delete{
  position:absolute;top:6px;right:6px;
  background:#ff4444;color:white;
  border:none;border-radius:6px;
  padding:4px 8px;cursor:pointer;
}
</style>
</head>

<body>

<header>
  <div class="logo">gato.tv</div>
  <nav>
    <button class="active" data-tab="paints">Paints</button>
    <button data-tab="emotes">Emotes</button>
    <button data-tab="info">Info</button>
  </nav>
</header>

<div class="container">

<!-- PAINTS -->
<div class="panel active" id="paints">
  <h1>Paints</h1>

  <input id="nick" placeholder="Nick z Twitcha">
  <div class="preview" id="preview">Podgląd nicku</div>

  <div class="paint-grid" id="paintGrid"></div>

  <button class="primary" id="applyPaint">Nadaj paint</button>
</div>

<!-- EMOTES -->
<div class="panel" id="emotes">
  <h1>Global Emotes</h1>
  <div class="form">
    <input id="emoteName" placeholder="Nazwa emote">
    <input id="emoteUrl" placeholder="Link do obrazka">
    <button class="primary" id="addEmote">Dodaj</button>
  </div>
  <div class="emote-list" id="emoteList"></div>
</div>

<!-- INFO -->
<div class="panel" id="info">
  <h1>Info</h1>
  <p><b>Wersja:</b> v0.1</p>
  <p>Opis wkrótce.</p>
</div>

</div>

<script>
const API="https://test-be375-default-rtdb.europe-west1.firebasedatabase.app";

const paints=[
 {label:"Red",paint:{type:"color",color:"#ff3333"}},
 {label:"Blue",paint:{type:"color",color:"#33ccff"}},
 {label:"Lime",paint:{type:"color",color:"#33ff66"}},
 {label:"Lava",paint:{type:"color",color:"#ff3300",glow:true,glowColor:"#ff9900"}},
 {label:"Ice",paint:{type:"color",color:"#66ffff",glow:true,glowColor:"#66ffff"}},
 {label:"Rainbow",paint:{type:"gradient",gradient:"linear-gradient(90deg,red,orange,yellow,lime,cyan,blue,violet)"}},
 {label:"Ocean",paint:{type:"gradient",gradient:"linear-gradient(90deg,#0050ff,#00ffff)"}},
 {label:"Sunset",paint:{type:"gradient",gradient:"linear-gradient(90deg,#ff4500,#ffcc00)"}},
 {label:"Split RW",paint:{type:"split",color:"#ff0000",splitColor:"#ffffff"}},
 {label:"Split BY",paint:{type:"split",color:"#3399ff",splitColor:"#ffff00"}}
];

let selected=paints[0].paint;
const grid=document.getElementById("paintGrid");
const preview=document.getElementById("preview");

function renderPreview(){
  const t=document.getElementById("nick").value||"Podgląd";
  preview.innerHTML=t;
  preview.style="";
  if(selected.type==="color") preview.style.color=selected.color;
  if(selected.type==="gradient"){
    preview.style.background=selected.gradient;
    preview.style.webkitBackgroundClip="text";
    preview.style.webkitTextFillColor="transparent";
  }
  if(selected.type==="split"){
    const m=Math.floor(t.length/2);
    preview.innerHTML=
      `<span style="color:${selected.color}">${t.slice(0,m)}</span>`+
      `<span style="color:${selected.splitColor}">${t.slice(m)}</span>`;
  }
  if(selected.glow)
    preview.style.textShadow=`0 0 6px ${selected.glowColor}`;
}

paints.forEach(p=>{
  const d=document.createElement("div");
  d.className="paint";
  d.textContent=p.label;
  d.onclick=()=>{
    document.querySelectorAll(".paint").forEach(x=>x.classList.remove("active"));
    d.classList.add("active");
    selected=p.paint;
    renderPreview();
  };
  grid.appendChild(d);
});
grid.firstChild.classList.add("active");

document.getElementById("nick").oninput=renderPreview;

document.getElementById("applyPaint").onclick=async()=>{
  const nick=document.getElementById("nick").value.trim().toLowerCase();
  if(!nick) return alert("Podaj nick");
  const payload={};
  payload[nick]={paint:selected};
  await fetch(API+"/premium.json",{method:"PATCH",body:JSON.stringify(payload)});
};

renderPreview();

/* tabs + emotes (bez zmian) */
document.querySelectorAll("nav button").forEach(b=>{
  b.onclick=()=>{
    document.querySelectorAll("nav button").forEach(x=>x.classList.remove("active"));
    document.querySelectorAll(".panel").forEach(p=>p.classList.remove("active"));
    b.classList.add("active");
    document.getElementById(b.dataset.tab).classList.add("active");
  };
});
</script>

</body>
</html>
